{% extends 'posts/base.html' %}
{% block body %}
<div class="text-center">
    <h1> {{user.username}}'s workouts </h1>
</div>
<div class="container">
    <div class="col-md-9">
        <div class="row gy-2">
            {% for post in page_obj %}
            <div class="col-md-4">
                <div class="card">
                    {% if post.image  %}
                    <img src="{{post.image.url}}" class="index-image" />
                    {% endif %}
                    <div class="card-body">
                        <a href="{% url 'posts:post_show' post.id %}" class="text-decoration-none">
                            <p class="hide-text">
                                {{post.get_workout}} </p>
                            <ul class="text-capitalize workout-profile">
                                {%for workout in post.get_workout %}
                                <li>
                                    {{workout}}</li>{%endfor%}
                            </ul>
                        </a>
                        <p class="date-text"> {{post.created_at|date:'d M Y' }}</p>
                        <div class="text-center index">
                            <a href="{% url 'posts:comment_create' post.id %}" class='comment-icon link'><img
                                    src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjQ4MHB0IiB2aWV3Qm94PSIwIC0yNCA0ODAgNDgwIiB3aWR0aD0iNDgwcHQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0ibTQwOCAwaC0zMzZjLTM5Ljc0NjA5NC4wNDI5Njg4LTcxLjk1NzAzMTIgMzIuMjUzOTA2LTcyIDcydjIwOGMuMDQyOTY4OCAzOS43NDYwOTQgMzIuMjUzOTA2IDcxLjk1NzAzMSA3MiA3MmgyMi4yMzgyODFsLTE0LjA3ODEyNSA3MC4zOTg0MzhjLS42MDU0NjggMy4wMjczNDMuNTg1OTM4IDYuMTI4OTA2IDMuMDU0Njg4IDcuOTc2NTYyczUuNzgxMjUgMi4xMDkzNzUgOC41MTE3MTguNjcxODc1bDE1MC4yNS03OS4wNDY4NzVoMTY2LjAyMzQzOGMzOS43NDYwOTQtLjA0Mjk2OSA3MS45NTcwMzEtMzIuMjUzOTA2IDcyLTcydi0yMDhjLS4wNDI5NjktMzkuNzQ2MDk0LTMyLjI1MzkwNi03MS45NTcwMzEyLTcyLTcyem01NiAyODBjLS4wMzUxNTYgMzAuOTE0MDYyLTI1LjA4NTkzOCA1NS45NjQ4NDQtNTYgNTZoLTE2OGMtMS4zMDA3ODEgMC0yLjU3ODEyNS4zMTY0MDYtMy43MjY1NjIuOTIxODc1bC0xMzcuMTI4OTA3IDcyLjE3NTc4MSAxMi42OTUzMTMtNjMuNDk2MDk0Yy40ODA0NjgtMi4zNTU0NjgtLjEyMTA5NC00LjgwMDc4MS0xLjY0MDYyNS02LjY2MDE1Ni0xLjUxOTUzMS0xLjg2MzI4MS0zLjc5Njg3NS0yLjk0MTQwNi02LjE5OTIxOS0yLjk0MTQwNmgtMzJjLTMwLjkxNDA2Mi0uMDM1MTU2LTU1Ljk2NDg0NC0yNS4wODU5MzgtNTYtNTZ2LTIwOGMuMDM1MTU2LTMwLjkxNDA2MiAyNS4wODU5MzgtNTUuOTY0ODQ0IDU2LTU2aDMzNmMzMC45MTQwNjIuMDM1MTU2IDU1Ljk2NDg0NCAyNS4wODU5MzggNTYgNTZ6bTAgMCIvPjwvc3ZnPg=="
                                    class='comment-icon' /></a>

                            <form action="{% url 'posts:post_like' post.id %}" method="post" class='like-form'>
                                {% csrf_token %}
                                {%for field in like_form%}
                                <div class="row mb-3 comment-box">

                                    {{field.label_tag}}
                                    {{field}}
                                    <div class="text-danger">
                                        {{field.errors}}
                                        {{ form.non_field_errors }}
                                    </div>
                                    {% if field.help_text %}
                                    <p class="help">{{ field.help_text|safe }}</p>
                                    {% endif %}
                                </div>
                                {% endfor %}
                                <button type='submit' value={{post.id}} class="btn btn-link"><img
                                        src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgNDEyLjczNSA0MTIuNzM1IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MTIuNzM1IDQxMi43MzU7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxnPg0KCQk8cGF0aCBkPSJNMjk1LjcwNiwzNS41MjJDMjk1LjcwNiwzNS41MjIsMjk1LjcwNiwzNS41MjIsMjk1LjcwNiwzNS41MjJjLTM0LjQzLTAuMTg0LTY3LjE2MSwxNC45MzctODkuMzM5LDQxLjI3Mw0KCQkJYy0yMi4wMzktMjYuNTE2LTU0Ljg2MS00MS42OC04OS4zMzktNDEuMjczQzUyLjM5NSwzNS41MjIsMCw4Ny45MTcsMCwxNTIuNTVDMCwyNjMuMzEsMTkzLjMwNiwzNzEuNDU2LDIwMS4xNDMsMzc1LjYzNg0KCQkJYzMuMTYyLDIuMTEzLDcuMjg2LDIuMTEzLDEwLjQ0OSwwYzcuODM3LTQuMTgsMjAxLjE0My0xMTAuNzU5LDIwMS4xNDMtMjIzLjA4NkM0MTIuNzM1LDg3LjkxNywzNjAuMzM5LDM1LjUyMiwyOTUuNzA2LDM1LjUyMnoNCgkJCSBNMjA2LjM2NywzNTQuNzM4QzE3Ni4wNjUsMzM2Ljk3NSwyMC44OTgsMjQyLjQxMiwyMC44OTgsMTUyLjU1YzAtNTMuMDkxLDQzLjAzOS05Ni4xMzEsOTYuMTMxLTk2LjEzMQ0KCQkJYzMyLjUxMi0wLjQyNyw2Mi45MzgsMTUuOTcyLDgwLjQ1Nyw0My4zNjNjMy41NTcsNC45MDUsMTAuNDE4LDUuOTk4LDE1LjMyMywyLjQ0YzAuOTM3LTAuNjgsMS43NjEtMS41MDMsMi40NC0yLjQ0DQoJCQljMjkuMDU1LTQ0LjQzNSw4OC42MzEtNTYuOTAzLDEzMy4wNjYtMjcuODQ4YzI3LjIwMiwxNy43ODcsNDMuNTc1LDQ4LjExNCw0My41MjEsODAuNjE1DQoJCQlDMzkxLjgzNywyNDMuNDU2LDIzNi42NjksMzM3LjQ5NywyMDYuMzY3LDM1NC43Mzh6Ii8+DQoJPC9nPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPC9zdmc+DQo="
                                        class="like-icon" /></button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            {% empty %}
            <div class="alert alert-warning">
                Post Something!
            </div>
            {% endfor %}
            <div class="pagination">
                <span class="step-links">
                    {% if page_obj.has_previous %}
                    <a href="?page=1">&laquo; first</a>
                    <a href="?page={{ page_obj.previous_page_number }}">previous</a>
                    {% endif %}

                    <span class="current">
                        Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}
                    </span>

                    {% if page_obj.has_next %}
                    <a href="?page={{ page_obj.next_page_number }}">Next 8 </a>
                    <a href="?page={{ page_obj.paginator.num_pages }}">Last &raquo;</a>
                    {% endif %}
                </span>
            </div>
        </div>
    </div>
    {% endblock body %}